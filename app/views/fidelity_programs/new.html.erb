<div class="main-form">

  <div class="timeline">
    <div class="circle" id="on"></div>
    <div class="bar"></div>
    <div class="circle"></div>
  </div>

  <div class="form" data-controller="form">
    <%= simple_form_for @fidelity_program do |f| %>
      <div id="step1" data-form-target="step1">
        <div class="form-container">
          <div class="form-text">
            <h2>Programme Infos</h2>
            <p>Remplissez les informations pour le profil. Cela prendra quelques minutes. Vous aurez seulement besoin d'un passeport.</p>
          </div>

          <div class="form-input">
            <div class="input-container first-input">
              <p>Nom du programme</p>
              <%= f.input :name, label: false, placeholder:"Le meilleur programme..." %>
            </div>
            <div class="input-container">
              <p>Ratio Euro/Points</p>
              <div class="ratio-container">
                <div class="euro-container">
                  <p>1€</p>
                </div>
                <i class="fa-solid fa-equals"></i>
                <%= f.input :points_per_euro, label: false, placeholder:"1 point" %>
              </div>
            </div>
            <div class="btn-container">
              <%= link_to "Suivant", "#", data: { "form-target": "nextButton", action: "click->form#display" }, class: "submit-button next-btn" %>
            </div>
          </div>
        </div>
      </div>
      <div id="step2" class="hidden" data-form-target="step2">
        <div class="reward-container">
          <div class="reward-text">
            <h2>Les Récompenses</h2>
          </div>
          <div>
            <%= f.abyme_for(:rewards, partial: 'abyme/rewards_fields') do |abyme| %>
              <%= abyme.records %>
              <%= abyme.new_records %>
            <% end %>
          </div>
        </div>
        <div class="submit-container">
          <%= f.submit 'Enregistrer', class: 'submit-button', data: { action: "submit->form#submitForm" } %>
        </div>
      </div>
    <% end %>
  </div>
</div>
